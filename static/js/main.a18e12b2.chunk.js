(this["webpackJsonpemployee-directory-react"]=this["webpackJsonpemployee-directory-react"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(1),r=n(7),l=n.n(r),a=(n(14),Object(c.createContext)()),i=function(){var e=Object(c.useContext)(a),t=e.clearFilter,n=e.filterEmployees,r=(e.filtered,Object(c.useRef)(""));return Object(s.jsx)("form",{className:"d-flex justify-content-center mb-2",children:Object(s.jsx)("input",{type:"text",name:"text",placeholder:"Search Employees...",ref:r,onChange:function(e){""!==r.current.value?n(e.target.value):t()}})})},o=function(){return Object(s.jsxs)("header",{style:{backgroundColor:"blue",borderBottom:"solid red",color:"whitesmoke",height:"4rem",marginBottom:"1rem"},children:[Object(s.jsx)("div",{className:"d-flex justify-content-center",children:"Employee Directory"}),Object(s.jsx)("div",{className:"d-flex justify-content-center",children:"Filter by clicking the carrots or use the search bar."})]})},d=n(2),j="FILTER_EMPLOYEES",u="SEARCH_EMPLOYEES",b="SET_LOADING",O="CLEAR_FILTER",m="SORT_EMPLOYEESDOB",x="SORT_EMPLOYEESNAME",p="SET_SORTEDNAME",f=function(e,t){switch(t.type){case u:return Object(d.a)(Object(d.a)({},e),{},{employees:t.payload,loading:!1});case j:return Object(d.a)(Object(d.a)({},e),{},{filtered:e.employees.filter((function(e){var n=new RegExp("".concat(t.payload),"gi");return e.email.match(n)}))});case m:case x:return Object(d.a)(Object(d.a)({},e),{},{employees:t.payload});case b:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case p:return Object(d.a)(Object(d.a)({},e),{},{sortedName:!e.sortedName});case p:return Object(d.a)(Object(d.a)({},e),{},{sortedDOB:!e.sortedDOB});case O:return Object(d.a)(Object(d.a)({},e),{},{filtered:null});default:return e}},h=function(e){var t=e.employee;return Object(s.jsx)("div",{className:"container ",children:Object(s.jsxs)("div",{className:"row border-top border-2 border-bottom",children:[Object(s.jsx)("div",{className:"d-flex justify-content-center col-1 mb-1 mt-1",children:Object(s.jsx)("img",{src:t.picture.thumbnail})}),Object(s.jsxs)("div",{className:"d-flex justify-content-center col-3",children:[t.name.first," ",t.name.last]}),Object(s.jsx)("div",{className:"d-flex justify-content-center col-2",children:t.cell}),Object(s.jsx)("div",{className:"d-flex justify-content-center col-4",children:t.email}),Object(s.jsx)("div",{className:"d-flex justify-content-center col-2",children:new Date(t.dob.date).toLocaleDateString()})]})})},y=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(s.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-secondary",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-success",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-danger",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-warning",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-info",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-light",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Object(s.jsx)("div",{className:"spinner-grow text-dark",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})})},v=function(){var e=Object(c.useContext)(a),t=e.getEmployees,n=e.employees,r=e.loading,l=e.filtered;return Object(c.useEffect)((function(){t()}),[]),null===n||0!==n.length||r?Object(s.jsx)("div",{children:null===n||r?Object(s.jsx)(y,{}):Object(s.jsx)(s.Fragment,{children:null!==l?l.map((function(e){return Object(s.jsx)(h,{employee:e},e.login.uuid)})):n.map((function(e){return Object(s.jsx)(h,{employee:e},e.login.uuid)}))})}):Object(s.jsx)("h4",{children:"No employees to display"})},N=n(4),g=n(3),E=function(){var e=Object(c.useContext)(a),t=(e.employees,e.sortedName,e.setSortedName,e.sortedDOB,e.setSortedDOB,e.sortEmployeesDOB),n=e.sortEmployeesName,r=Object(c.useState)(null),l=Object(N.a)(r,2),i=l[0],o=l[1],d=Object(c.useState)(null),j=Object(N.a)(d,2),u=j[0],b=j[1];return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row border-top border-2 border-bottom ",children:[Object(s.jsx)("div",{className:"d-flex justify-content-center col-1",children:"Image"}),Object(s.jsxs)("div",{className:"d-flex justify-content-center col-3",children:["Name"," ",Object(s.jsxs)("span",{onClick:function(e){null===u?(b(!0),n(!0)):u?(b(!1),n(!1)):(b(!0),n(!0))},children:[null===u&&Object(s.jsx)(g.a,{}),u&&Object(s.jsx)(g.b,{}),!u&&null!==u&&Object(s.jsx)(g.c,{})]})]}),Object(s.jsx)("div",{className:"d-flex justify-content-center col-2",children:"Phone"}),Object(s.jsx)("div",{className:"d-flex justify-content-center col-4",children:"Email"}),Object(s.jsxs)("div",{className:"d-flex justify-content-center col-2",children:["DOB"," ",Object(s.jsxs)("span",{onClick:function(e){null===i?(o(!0),t(!0)):i?(o(!1),t(!1)):(o(!0),t(!0))},children:[null===i&&Object(s.jsx)(g.a,{}),i&&Object(s.jsx)(g.b,{}),!i&&null!==i&&Object(s.jsx)(g.c,{})]})]})]})})},S=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(o,{}),Object(s.jsx)(i,{}),Object(s.jsx)(E,{}),Object(s.jsx)(v,{})]})},w=n(6),D=n.n(w),L=n(8),B=function(e){var t=Object(c.useReducer)(f,{employees:[],employee:{},loading:!1,filtered:null,sortedName:null,sortedDOB:null}),n=Object(N.a)(t,2),r=n[0],l=n[1],i=function(){var e=Object(L.a)(D.a.mark((function e(){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(),e.next=3,fetch("https://randomuser.me/api/?results=10");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,l({type:u,payload:n.results});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){return l({type:b})};return Object(s.jsx)(a.Provider,{value:{employees:r.employees,employee:r.employee,loading:r.loading,filtered:r.filtered,sortedName:r.sortedName,getEmployees:i,filterEmployees:function(e){l({type:j,payload:e})},clearFilter:function(){l({type:O})},setLoading:o,setSortedName:function(){l({type:p})},setSortedDOB:function(){l({type:"SET_SORTEDDOB"})},sortEmployeesDOB:function(e){var t,n=function(t,n){var s=t.dob.age,c=n.dob.age,r=0;return s>c?r=1:s<c&&(r=-1),e?r:e?void 0:-1*r};t=null===r.filtered?r.employees.sort(n):r.filtered.sort(n),l({type:m,payload:t})},sortEmployeesName:function(e){var t,n=function(t,n){var s=t.name.last.toUpperCase(),c=n.name.last.toUpperCase(),r=0;return s>c?r=1:s<c&&(r=-1),e?r:e?void 0:-1*r};t=null===r.filtered?r.employees.sort(n):r.filtered.sort(n),l({type:x,payload:t})},sortedDOB:r.sortedDOB},children:e.children})};var C=function(){return Object(s.jsx)(B,{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)(S,{})})})};l.a.render(Object(s.jsx)(C,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.a18e12b2.chunk.js.map